<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match Out Game</title>
    <link href="../stylesheets/index.css" rel="stylesheet" type="text/css">
</head>
<body> 
    <h1>Find the Difference</h1>
    <!-- Image Map Generated by http://www.image-map.net/ -->
   <h2 id="">
    <strong id="timer">0</strong> seconds    
    <strong id = "errors">3</strong>lives
    </h2>
   <div class="container">       
       <img src="pic1.png~" id="left-image" usemap="#image-map" >
       <map name="image-map">
          <!-- <area href="https://codehs.com/uploads/6004105359258f302dd4b9d5fab9e07f" coords="656,627,699,579" shape="rect" onclick="areaClicked()"> -->
          <area id='myarea' target="" alt="" title="" coords="313,404,171" shape="circle">
       </map>
    </div>
    <!-- <div class="container" id="right-container">
        <img src="pic1_diff.png~" id="right-image">
    </div> -->

    <script src="../image_resizer.js">

    </script>
    <script>
         imageMapResize();
        //timer
        let timer = document.getElementById('timer')
        let seconds = 0
        let errors = document.getElementById('errors')
        let lives = 3
        setInterval( function() {
            seconds++ 
            timer.innerHTML = seconds
        }, 1000)
        //image map
        let correct1 = document.getElementById('correct1')
        let areasCollection = document.getElementsByTagName('area')
        let areas = Array.from(areasCollection)
        let game_image = document.getElementById('left-image')
        game_image.addEventListener('click', function (x) {
        for (let index = 0; index < Array.length; index++) {
	    const element = Array[index];
	            console.log(x.path[0])
	            console.log(areas)
}
            console.log("image map worked")
            if (areas.includes(x.path[0])) {
                x.path[0].setAttribute('found', 'true')
            } else {
                console.log("wrong")
                lives--
                errors.innerHTML = lives
            }
        })
        if (lives = 0){
                    console.log("game over");
                }

        function isLevelComplete() {
            let areas = document.getElementByTagName('area')

            if (correct1.disabled && correct2.disabled) {
                return true
            } else {
                return false
            }
        }

     
    </script>
</body>
</html>